FROM node:22-alpine AS buildWORKDIR /appCOPY package.json package-lock.json ./RUN npm install --legacy-peer-depsCOPY . .ARG VITE_API_URL=http://localhost:3000/apiARG VITE_WC_PROJECT_ID=demo-project-idENV VITE_API_URL=$VITE_API_URLENV VITE_WC_PROJECT_ID=$VITE_WC_PROJECT_IDRUN npm run buildFROM nginx:alpineCOPY nginx.conf /etc/nginx/conf.d/default.confCOPY --from=build /app/dist /usr/share/nginx/htmlEXPOSE 80CMD ["nginx", "-g", "daemon off;"]